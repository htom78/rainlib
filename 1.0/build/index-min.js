/*!build time : 2014-03-28 10:14:32 AM*/
KISSY.add("gallery/rainlib/1.0/index",function(a,b,c,d){var e,f,g,h,i,j;return e=b.all,j={},j.draw='<div style="{{style}}" class="rain-draw">\n  <div style="{{style}}" class="{{cls}}">\n      {{#each data}}<a target="_blank" style="{{style}}" href="{{link}}" class="mask"><em></em>\n          {{#if cls!==\'default\'}}<div class="product-info" class="cls">\n              <div class="draw-bg"></div>\n              <dl class="rain-left"><dt><img src="{{img}}"></dt>\n                  <dd class="title">{{title}}</dd>\n                  <dd class="price">\uffe5<span class="special">{{price}}</span>\n                  </dd>\n              </dl>\n          </div>{{/if}}\n      </a>{{/each}}\n  </div>\n</div>',j.photo='<div style="{{style}}" class="{{cls}}">\n      {{#each data}}<div class="wrap">\n        <a href="{{link}}" target="_blank">\n          <img src="{{img}}" alt="">\n          <div class="rain-product-info">\n            <div class="title">{{title}}</div>\n            <div class="price">${{price}}</div>\n            <div class="special">${{special}}</div>\n          </div>\n        </a>\n      </div>{{/each}}\n    </div>',j.recom='<div style="{{style}}" class="{{cls}}">\n  <ul class="rain-left">\n    {{#each data}}<li class="{{cls}}">\n        <a href="{{link}}" target="_blank">\n            <img src="{{img}}" alt="">\n            <div class="rain-product-info">\n              <div class="title">{{title}}</div>\n              <div class="price">{{price}}</div>\n              <div class="special">{{special}}</div>\n        </div></a></li>{{/each}}\n  </ul>\n</div>',h=function(a){var b,d;return b={},b.sellerid=a.args.sellerId,b.buyerid=a.args.userId,b.appid=1,b.itemid=a.args.objectId,b.areas=a.args.targetId,d=window.location.href,d.indexOf("daily")>-1&&d.indexOf(".net")>-1?(b.debug=!0,d="http://tad.skip.daily.taobao.net"):d="http://tad.skip.taobao.com",d="http://tad.skip.daily.taobao.net",d+="/api/list",new c({url:d,type:"get",dataType:"jsonp",data:b,fail:a.error,jsonp:"callback",success:function(b){return i(b,a)}})},g=function(a){var b,c,d,e,f;if(!a)return"";e="";for(c in a)f=a[c],d=c.match(/[A-Z]/),d&&d.length>0&&(b=d[0],c=c.replace(b,"-"+b.toLowerCase())),e+=c+":"+f+";";return e},i=function(a,c){var e,f,h,i,k,l,m,n,o,p,q,r;console.log(a);for(i in a){for(h=a[i],e=b.all("#"+i),l="",n=0,p=h.length;p>n;n++){for(f=h[n],m=j[f.name],f.style=g(f.style),r=f.data,o=0,q=r.length;q>o;o++)k=r[o],k.style&&(k.style=g(k.style));console.log(f),l+=new d(m).render(f)}l.length>0&&e.html(l)}return c.result=!0,null},f=function(){function a(a,b){this.areas=a.targetId,this.args=a,this.data=a.data,this.result=!1,this.isInit=!1,this.callback=b}return a.prototype.status=function(){return this.result},a.prototype.error=function(){return this.callback&&this.callback(),this.result=!1},a.prototype.setup=function(){console.log("hello");var a;return this.isInit?this.result:(this.isInit=!0,this.data?a=i(this.data,this):h(this),this.result)},a}()},{requires:["node","ajax","xtemplate","gallery/gallery/rainlib/1.0/index.css"]});